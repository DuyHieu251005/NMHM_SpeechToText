\chapter{Đánh giá thực nghiệm và phân tích lỗi}

\section{Overfitting / Underfitting}
\textbf{Wav2Vec2:} Mô hình tổng quát hoá tốt trên tập test hiện có.
\textbf{PhoWhisper:} Underfitting.
\textbf{OpenAI Whisper:} Overfitting

\section{Các biện pháp đã thực hiện và đề xuất}
Đã thực hiện trong pipeline:
  \begin{itemize}
    \item PhoWhisper được tinh chỉnh với LoRA để giảm số tham số huấn luyện.
    \item Sử dụng optimizer AdamW, warmup + linear decay scheduler, fp16, và giới hạn lưu model.
    \item Wav2Vec2 tận dụng pretraining và SpecAug/augmentation khi fine-tune.
  \end{itemize}

Hướng khắc phục:
  \begin{itemize}
    \item Tăng số epoch / bước tinh chỉnh cho PhoWhisper để giảm underfitting.
    \item Thử grid/Random search cho learning rate, warmup, LoRA rank/alpha/dropout.
    \item Thêm augmentation, kiểm tra chất lượng dữ liệu, và áp EarlyStopping dựa trên WER.
    \item Khi báo cáo metric, dùng 'corpus-level WER' thay vì trung bình per-sample không chuẩn.
  \end{itemize}

\section{Phân tích các trường hợp sai}

\subsection{PhoWhisper — ví dụ lỗi thực tế}
\noindent Dưới đây là các ví dụ trích từ log/đầu ra đánh giá (Reference => Prediction):
\begin{itemize}
  \item TRỞ NÊN THỤ ĐỘNG  => CHỞ NẾN THỤ ĐỘNG
  \item CŨNG KHIẾN CHO HỌ DÈ DẶ  => CŨNG KHIẾ CHO HỌ DÈ GIẬT
  \item CHỊ GẶN HỎI ANH THỀ SỐNG THỀ CHẾT LÀ KHÔNG CÓ  => CHỊ GẶN HỎI ANH THỀ SÓNG THỂ CHẾT ĐÀ KHÔNG CÓ
  \item ĐIỆN THOẠI RENG NHƯNG TA CŨNG PHẢI NHẤC MÁY ĐÚNG KHÔNG  => TIỆN THẢI LEN NHÊN TA CŨNG PHẢY NHẤT MÁY TÚNG KHÔNG
  \item CŨNG THUỘC LOẠI DÀY ĐẶC NHẤT TRONG HỆ MẶT TRỜI  => CŨNG THỘ LẠI DÀY ĐẶT NHẤT TRONG HỂ MẸCH CHỜI
  \item CÁC VỤ THAM NHŨNG VÀ BÊ BỐI KINH TẾ  => CÁC VỤ THAM NHỔNG VÀ B BỐI KINH TẾ
  \item CHÚNG CỨ CỐ LÙI LẠI MẶC DÙ VƯỚNG VÍU GÔNG XIỀNG  => CHÚNG CỨ CÓ LÙI LẠI MẶT GIỜI VƯỚN PHÍU GONG CHUYỀN
  \item BỌN BUÔN DỰ ÁN CHẠY CHỌT BÀY RA CÁC DỰ ÁN ĐỂ KIẾM CHÁC  => BỌT BUÔN DỰ ÁNG CHẠY TRỌ TÀ BÀY RA CÁI KÁI GIỊA AN ĐỂ KIẾM CHÉC
  \item TẤT CẢ MỌI THỨ ĐỀU KỲ LẠ MỘT CÁCH PHI THƯỜNG  => ĐẾT CẢ MỌI THỨ ĐÈO KỲ LẠM MỘT CÁC PHI THƯỜNG
  \item CÁC CHƯƠNG TRÌNH CA NHẠC PHẦN LỚN ĐỀU KHÔNG ĐỘT PHÁ  => CÁI CHUYÊN TRỊNG CA NHẠT PHÌNH LỚN ĐỀO KHÔNG ĐỘT THÉ
\end{itemize}

\subsection{Wav2Vec2 — ví dụ lỗi thực tế}
\begin{itemize}
  \item cũng khiến cho họ dè dặt => cũng khiến cho họ dề giặt"
  \item điện thoại reng nhưng ta cũng phải nhấc máy đúng không => điện thải len dên ta cũng phải nhắt máy đúng không"
  \item cũng thuộc loại dày đặc nhất trong hệ mặt trời => cũng thuộc lại dày đặt nhất trong hệ mặt trời"
  \item chúng cứ cố lùi lại mặc dù vướng víu gông xiềng => chúng cứ cố lồi lại mặc dù vướng phía gông xiền"
  \item bọn buôn dự án chạy chọt bày ra các dự án để kiếm chác => bọt buôn dự án chạy chọt bày ra cái dự án để kiếm chét"
  \item tất cả mọi thứ đều kỳ lạ một cách phi thường => tất cả mọi thứ đều kỳ lại một cắc phi thường"
  \item để trả trở lại đại dương => để trả trở lại tại dương"
  \item nàng có đôi mắt to sâu và vầng trán rộng mênh mông => nàng có đôi mắt to sau và bình thán giọcg minh mong"
\end{itemize}

\subsection{OpenAI Whisper — ví dụ lỗi thực tế}
\begin{itemize}
  \item trở nên thụ động => chỡ nên thủ động"
  \item cũng khiến cho họ dè dặt => cũng khuấn cho họ giề giả giả giả giả giả"
  \item chị gặn hỏi anh thề sống thề chết là không có => chị giảng hỏi anh thề sống thể chế là không có"
  \item điện thoại reng nhưng ta cũng phải nhấc máy đúng không => tiện thể lan nhân ta cũng phải nhất máy túng không"
  \item cũng thuộc loại dày đặc nhất trong hệ mặt trời => cũng thuột lại dày đặc nhất chong hệ mặt chời"
  \item các vụ tham nhũng và bê bối kinh tế => các vụt tham nhổng và b bối kinh tớ"
  \item bọn buôn dự án chạy chọt bày ra các dự án để kiếm chác => bọt buôn dự á chạy chợt bày ra các dự á để kiếm chét"
  \item nàng có đôi mắt to sâu và vầng trán rộng mênh mông => này coi tôi mắt đoa sau và bệnh trán rọc minh mong"
\end{itemize}

\section{So sánh}

\begin{table}[H]
    \centering
    \caption{Bảng so sánh tổng hợp các hạng mục đánh giá giữa 3 mô hình sau fine-tuning}
    \label{tab:evaluation_comparison}
    \begin{tabular}{|l|c|c|c|}
        \hline
        \textbf{Hạng mục đánh giá} & \textbf{Wav2Vec2} & \textbf{PhoWhisper} & \textbf{Whisper-tiny} \\
        \hline
        \hline
        \multicolumn{4}{|c|}{\textit{\textbf{Độ đo chất lượng}}} \\
        \hline
        WER (\%) $\downarrow$ & \textbf{11.24} & 305 & 42.7 \\
        \hline
        \hline
        \multicolumn{4}{|c|}{\textit{\textbf{Cấu hình huấn luyện}}} \\
        \hline
        Mô hình gốc & wav2vec2-base-vi & PhoWhisper-small & whisper-tiny \\
        \hline
        Kỹ thuật fine-tuning & Full fine-tuning & LoRA & Full fine-tuning \\
        \hline
        Batch size & 4 & 4 & 16 \\
        \hline
        \hline
        \multicolumn{4}{|c|}{\textit{\textbf{Quá trình hội tụ}}} \\
        \hline
        Training Loss (đầu) & 14.44 & 4.42 & 4.72 \\
        \hline
        Training Loss (cuối) & 0.1995 & 0.2352 & 0.0121 \\
        \hline
        Validation Loss (cuối) & 0.186 & 0.328 & 0.4125 \\
        \hline
        
    \end{tabular}
\end{table}
